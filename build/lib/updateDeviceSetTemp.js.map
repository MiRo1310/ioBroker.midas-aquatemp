{
  "version": 3,
  "sources": ["../../src/lib/updateDeviceSetTemp.ts"],
  "sourcesContent": ["import axios from 'axios';\nimport { getAxiosUpdateDeviceSetTempParams } from './axiosParameter';\nimport { getSUrl } from './endPoints';\nimport { saveValue } from './saveValue';\nimport { initStore } from './store';\n\nexport const updateDeviceSetTemp = async (deviceCode: string, temperature: number): Promise<void> => {\n    const store = initStore();\n    const dpRoot = store.getDpRoot();\n    try {\n        const token = store.token;\n        const sTemperature = temperature.toString().replace(',', '.');\n        const result = await store._this.getStateAsync(`${dpRoot}.mode`);\n        if (!(result && (result.val || result.val === 0))) {\n            return;\n        }\n\n        if (token && token != '') {\n            const { sURL } = getSUrl();\n\n            const response = await axios.post(sURL, getAxiosUpdateDeviceSetTempParams({ deviceCode, sTemperature }), {\n                headers: { 'x-token': token },\n            });\n            store._this.log.debug(`DeviceStatus: ${JSON.stringify(response.data)}`);\n\n            if (parseInt(response.data.error_code) == 0) {\n                await saveValue('tempSet', temperature, 'number');\n                return;\n            }\n            store._this.log.error(`Error: ${JSON.stringify(response.data)}`);\n\n            store.resetOnErrorHandler();\n        }\n    } catch (error: any) {\n        store._this.log.error(JSON.stringify(error));\n    }\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAkB;AAClB,4BAAkD;AAClD,uBAAwB;AACxB,uBAA0B;AAC1B,mBAA0B;AAEnB,MAAM,sBAAsB,OAAO,YAAoB,gBAAuC;AACjG,QAAM,YAAQ,wBAAU;AACxB,QAAM,SAAS,MAAM,UAAU;AAC/B,MAAI;AACA,UAAM,QAAQ,MAAM;AACpB,UAAM,eAAe,YAAY,SAAS,EAAE,QAAQ,KAAK,GAAG;AAC5D,UAAM,SAAS,MAAM,MAAM,MAAM,cAAc,GAAG,MAAM,OAAO;AAC/D,QAAI,EAAE,WAAW,OAAO,OAAO,OAAO,QAAQ,KAAK;AAC/C;AAAA,IACJ;AAEA,QAAI,SAAS,SAAS,IAAI;AACtB,YAAM,EAAE,KAAK,QAAI,0BAAQ;AAEzB,YAAM,WAAW,MAAM,aAAAA,QAAM,KAAK,UAAM,yDAAkC,EAAE,YAAY,aAAa,CAAC,GAAG;AAAA,QACrG,SAAS,EAAE,WAAW,MAAM;AAAA,MAChC,CAAC;AACD,YAAM,MAAM,IAAI,MAAM,iBAAiB,KAAK,UAAU,SAAS,IAAI,CAAC,EAAE;AAEtE,UAAI,SAAS,SAAS,KAAK,UAAU,KAAK,GAAG;AACzC,kBAAM,4BAAU,WAAW,aAAa,QAAQ;AAChD;AAAA,MACJ;AACA,YAAM,MAAM,IAAI,MAAM,UAAU,KAAK,UAAU,SAAS,IAAI,CAAC,EAAE;AAE/D,YAAM,oBAAoB;AAAA,IAC9B;AAAA,EACJ,SAAS,OAAY;AACjB,UAAM,MAAM,IAAI,MAAM,KAAK,UAAU,KAAK,CAAC;AAAA,EAC/C;AACJ;",
  "names": ["axios"]
}
