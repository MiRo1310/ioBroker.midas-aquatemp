{
  "version": 3,
  "sources": ["../../src/lib/updateDeviceSetTemp.ts"],
  "sourcesContent": ["import axios from \"axios\";\nimport { getAxiosUpdateDeviceSetTempParams } from \"./axiosParameter\";\nimport { getSUrl } from \"./endPoints\";\nimport { saveValue } from \"./saveValue\";\nimport { initStore } from \"./store\";\n\nexport const updateDeviceSetTemp = async (deviceCode: string, temperature: number): Promise<void> => {\n\tconst store = initStore();\n\tconst dpRoot = store.getDpRoot();\n\ttry {\n\t\tconst token = store.token;\n\t\tconst sTemperature = temperature.toString().replace(\",\", \".\");\n\t\tconst result = await store._this.getStateAsync(dpRoot + \".mode\");\n\t\tif (!(result && (result.val || result.val === 0))) {\n\t\t\treturn;\n\t\t}\n\t\t// let sMode = result.val;\n\t\t// // if (sMode == \"-1\") {\n\t\t// // \t//log(\"Ger\u00E4t einschalten um Temperatur zu \u00E4ndern!\", 'warn');\n\t\t// // \treturn;\n\t\t// // } else\n\t\t// if (sMode == \"0\") {\n\t\t// \tsMode = \"R01\"; // K\u00FChlen\n\t\t// } else if (sMode == \"1\") {\n\t\t// \tsMode = \"R02\"; // Heizen\n\t\t// } else if (sMode == \"2\") {\n\t\t// \tsMode = \"R03\"; // Auto\n\t\t// }\n\n\t\tif (token && token != \"\") {\n\t\t\tconst { sURL } = getSUrl();\n\n\t\t\tconst response = await axios.post(sURL, getAxiosUpdateDeviceSetTempParams({ deviceCode, sTemperature }), {\n\t\t\t\theaders: { \"x-token\": token },\n\t\t\t});\n\t\t\tstore._this.log.info(\"DeviceStatus: \" + JSON.stringify(response.data));\n\n\t\t\tif (parseInt(response.data.error_code) == 0) {\n\t\t\t\tsaveValue(\"tempSet\", temperature, \"number\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tstore._this.log.error(\"Error: \" + JSON.stringify(response.data));\n\n\t\t\tstore.resetOnErrorHandler();\n\t\t\tsaveValue(\"info.connection\", false, \"boolean\");\n\t\t}\n\t} catch (error: any) {\n\t\tstore._this.log.error(JSON.stringify(error));\n\t}\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAkB;AAClB,4BAAkD;AAClD,uBAAwB;AACxB,uBAA0B;AAC1B,mBAA0B;AAEnB,MAAM,sBAAsB,OAAO,YAAoB,gBAAuC;AACpG,QAAM,YAAQ,wBAAU;AACxB,QAAM,SAAS,MAAM,UAAU;AAC/B,MAAI;AACH,UAAM,QAAQ,MAAM;AACpB,UAAM,eAAe,YAAY,SAAS,EAAE,QAAQ,KAAK,GAAG;AAC5D,UAAM,SAAS,MAAM,MAAM,MAAM,cAAc,SAAS,OAAO;AAC/D,QAAI,EAAE,WAAW,OAAO,OAAO,OAAO,QAAQ,KAAK;AAClD;AAAA,IACD;AAcA,QAAI,SAAS,SAAS,IAAI;AACzB,YAAM,EAAE,KAAK,QAAI,0BAAQ;AAEzB,YAAM,WAAW,MAAM,aAAAA,QAAM,KAAK,UAAM,yDAAkC,EAAE,YAAY,aAAa,CAAC,GAAG;AAAA,QACxG,SAAS,EAAE,WAAW,MAAM;AAAA,MAC7B,CAAC;AACD,YAAM,MAAM,IAAI,KAAK,mBAAmB,KAAK,UAAU,SAAS,IAAI,CAAC;AAErE,UAAI,SAAS,SAAS,KAAK,UAAU,KAAK,GAAG;AAC5C,wCAAU,WAAW,aAAa,QAAQ;AAC1C;AAAA,MACD;AACA,YAAM,MAAM,IAAI,MAAM,YAAY,KAAK,UAAU,SAAS,IAAI,CAAC;AAE/D,YAAM,oBAAoB;AAC1B,sCAAU,mBAAmB,OAAO,SAAS;AAAA,IAC9C;AAAA,EACD,SAAS,OAAY;AACpB,UAAM,MAAM,IAAI,MAAM,KAAK,UAAU,KAAK,CAAC;AAAA,EAC5C;AACD;",
  "names": ["axios"]
}
